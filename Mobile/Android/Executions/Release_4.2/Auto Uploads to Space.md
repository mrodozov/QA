#### Auto uploads to spaces

#### PR: 

Server(s): <br>
Device(s): <br>
Execution date: <br>
Tester:  <br>
Context: <br>


| Test Case | Steps | Expected Result | Result | Related Comment |
| :-------- | :---- | :-------------- | :----: | :------- |
|**Auto uploads Pictures**|Preconditions:<br> 1. Enable `Picture Uploads`<br>2. Set the correct `Camera folder` with the picture container from the camera app|||||
| oC10 account shows list | 1. With oC10 account in device, click on `Account to upload pictures`<br>2. Select the oC10 account to upload pictures<br>3. Click on `Picture upload path` | List of files displayed |  |  |
| oCIS account shows spaces | 1. With oCIS account in device, click on `Account to upload pictures`<br>2. Select the oCIS account to upload pictures<br>3. Click on `Picture upload path` | List of available spaces displayed |  |  |
| oC10 - oCIS Path switching | 1. Add two accounts to the device, one oCIS and one oC10<br>2. Select oC10 as `Account to upload Pictures` and a `Picture upload Path` inside<br>3. Select oCIS account as `Account to upload Pictures`<br>4. Select oC10 account as `Account to upload Pictures`| 3. `Picture upload Path` reseted to `Personal: /CameraUpload`<br>4. `Picture upload Path` reseted to `/CameraUpload` |  |  |
| oC10 Path | 1. in oC10 account, click on `Picture upload path`<br>2. Select a different folder to root, in order to upload pictures in the oC10 account<br>3. Close the app<br>4. Take some pictures with the camera | With the app closed, check in web or another client that the taken pictures were uploaded in 15 minutes to the correct folder |  |  |
| oCIS Personal | 1. in oCIS account, click on `Picture upload path`<br>2. Select Personal space<br>3. Select a different folder to root, in order to upload pictures in the oCIS account<br>4. Close the app<br>5. Take some pictures with the camera | 3. Space + path in screen<br>5. With the app closed, check in web or another client that the taken pictures were uploaded in 15 minutes to the correct folder |  |  |
| oCIS Custom | 1. in oCIS account, click on `Picture upload path`<br>2. Select space that is not personal<br>3. Select a different folder to root, in order to upload pictures in the oCIS account<br>4. Close the app<br>5. Take some pictures with the camera | 3. Space + path in screen<br>5. With the app closed, check in web or another client that the taken pictures were uploaded in 15 minutes to the correct folder |  |  |
|**Auto uploads Videos**|Preconditions:<br> 1. Enable `Video Uploads`<br>2. Set the correct `Camera folder` with the picture container from the camera app|||||
| oC10 account shows list | 1. With oC10 account in device, click on `Account to upload pictures`<br>2. Select the oC10 account to upload videos<br>3. Click on `Video upload path` | List of files displayed |  |  |
| oCIS account shows spaces | 1. With oCIS account in device, click on `Account to upload pictures`<br>2. Select the oCIS account to upload pictures<br>3. Click on `Video upload path` | List of available spaces displayed |  |  |
| oC10 - oCIS Path switching | 1. Add two accounts to the device, one oCIS and one oC10<br>2. Select oC10 as `Account to upload Pictures` and a `Picture upload Path` inside<br>3. Select oCIS account as `Account to upload Pictures`<br>4. Select oC10 account as `Account to upload Pictures`| 3. `Picture upload Path` reseted to `Personal: /CameraUpload`<br>4. `Picture upload Path` reseted to `/CameraUpload` |  |  |
| oC10 Path | 1. in oC10 account, click on `Video upload path`<br>2. Select a different folder to root, in order to upload videos in the oC10 account<br>3. Close the app<br>4. Take some videos with the camera | With the app closed, check in web or another client that the taken videos were uploaded in 15 minutes to the correct folder |  |  |
| oCIS Personal | 1. in oCIS account, click on `Video upload path`<br>2. Select Personal space<br>3. Select a different folder to root, in order to upload videos in the oCIS account<br>4. Close the app<br>5. Take some videos with the camera | 3. Space + path in screen<br>5. With the app closed, check in web or another client that the taken videos were uploaded in 15 minutes to the correct folder |  |  |
| oCIS Custom | 1. in oCIS account, click on `Video upload path`<br>2. Select space that is not personal<br>3. Select a different folder to root, in order to upload videos in the oCIS account<br>4. Close the app<br>5. Take some videos with the camera | 3. Space + path in screen<br>5. With the app closed, check in web or another client that the taken videos were uploaded in 15 minutes to the correct folder |  |  |
|**Errors**|  Preconditions:<br> 1. Enable `Video Uploads` or `Photo Uploads`<br>2. Set the correct `Camera folder` with the picture container from the camera app
| Removed folder | 1. In file list, remove folder selected in `Picture upload path` section in `Auto Upload`<br>2. Take pictures/videos and wait 15 min | Removed folder is created again and contains the taken pictures/videos |  |  |
| Account disabled | 1. In server, disable login(oCIS) or disable account(oC10) that is selected in `Account to upload pictures/videos` section in `Auto Upload`<br>2. Take pictures/videos and wait 15 min | Error: `Connection error` |  |  |
| Account removed | 1. In server, remove account that is selected in `Account to upload pictures/videos` section in `Auto Upload`<br>2. Take pictures/videos and wait 15 min | Error: `Credentials error` |  |  |
| No permissions (oC10) | 1. In oC10 server, share a folder with another user, removing edit permissions<br>2. Sharee sets that folder as target for auto uploads | Not posible, folder without writing permissions is not selectable| | |
| No permissions (oCIS) | 1. In oCIS server, share a space with a member, removing edit permissions (just read)<br>2. Sharee sets that folder as target for auto uploads | Not posible, folder without writing permissions is not selectable| | |
| Permissions removed (oC10) | 1. In oC10 server, share a folder with another user, granting all permissions<br>2. Sharee sets that folder as target for auto uploads<br>3. Sharing user revokes edit permission (sharee can not upload anymore)<br>4. Take pictures/videos and wait 15 min | Error: `Permission error`| | |
| Permissions removed (oCIS) | 1. In oCIS server, share a space with another user, granting all permissions<br>2. Sharee sets that folder as target for auto uploads<br>3. Sharing user revokes edit permission (sharee can not upload anymore)<br>4. Take pictures/videos and wait 15 min | Error: `Permission error`| | |
| Space dislabled (oCIS) | 1. In oCIS server, share a space with another user, granting all permissions<br>2. Sharee sets that folder as target for auto uploads<br>3. Sharing user disables the space<br>4. Take pictures/videos and wait 15 min | Error: Â¿?| | |
|**Migration**|
| Migration | 1. Install previous version<br>2. Add oC10 account and oCIS account<br>3. Add oC10 account to `Photo Uploads` and oCIS to `Video Uploads`<br>4. Set a folder that is not root and not the default one in both Pictures and Videos<br>5. Upgrade to current version | Picture and Video uploads showing correct path<br>oCIS account showing `Personal: <path>` | | |
| Migration with disabled uploads | 1. Install previous version<br>2. Add oC10 account and oCIS account<br>3. Keep both `Photo Uploads`  and  `Video Uploads` disabled<br>4. Upgrade to current version | Picture and Video uploads stay disabled | | |
|**Regression**|Preconditions:<br> 1. Enable `Picture/Video Uploads`<br>2. Set the correct `Camera folder` with the picture/video container from the camera app||||
| Camera folder | 1. Install another camera app in the device<br>2. Click on `Picture upload path`<br>3. Click on `Camera folder`and select the folder from the newest installed camera app<br>4. Take pictures with the installed camera app and with the built-in camera app<br>5. Wait 15 minutes| Only pictures taken with the newest installed camera app are enqueued and then, uploaded |  |  |
| Original file kept | 1. Click on `Original file will be`<br>2. Select `kept in original folder`<br>3. Close the app<br>4. Take some videos with the camera | With the app closed, check in web or another client that the taken videos were uploaded in 15 minutes.<br>Original files were not removed from device |  |  |
| Original file removed | 1. Click on `Original file will be`<br>2. Select `removed from original folder`<br>3. Close the app<br>4. Take some pictures with the camera | With the app closed, check in web or another client that the taken pictures were uploaded in 15 minutes.<br>Original files were removed from device |  |  |
| Only wifi| 1. Enable `Upload pictures via wifi only`<br>2. Remove WiFi from device<br>3. Using mobile connection, take pictures with the camera app<br>4. Wait 15 minutes<br>5. Enable WiFi in device<br>6. Take some pictures<br>7. Wait 15 minutes | 4. Check in uploads view that pictures are enqueued but not uploaded because condition is not fulfilled<br>7. Pictures taken in steps 3. and 6. are enqueued |  
| When charging | 1. Enable `Upload videos only when charging`<br>2. Assure device is not charging<br>3. Take videos with the camera app<br>4. Wait 15 minutes<br>5. Plug charging wire to device in<br>6. Take some videos<br>7. Wait 15 minutes | 4. Check in uploads view that videos are enqueued but not uploaded because condition is not fulfilled<br>7. Videos taken in steps 3. and 6. are enqueued  |  
| Both WiFi + charging conditions enabled | 1. Enable `Upload pictures only when charging` and `Upload pictures via wifi only`<br>2. Plug charging wire to device in<br>3. Enable WiFi in device<br>4. Take some pictures and wait 15 min<br>5. Remove charging wire<br>6. Take some pictures and wait 15 min<br>7. Plug charging wire and remove WiFi connection (mobile connection)<br>8. Take some pictures and wait 15 min<br>9. Enable `Upload pictures only when charging` and `Upload pictures via wifi only`  | 4. Pictures are enqueued and then, uploaded<br>6. Pictures are not enqueued because both conditions are not fulfilled<br>8. Pictures are not enqueued because both conditions are not fulfilled<br>9. Pictures are enqueued and then, uploaded |  
